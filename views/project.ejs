<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title><%= project.title %> • Climate Solutions</title>
    <link rel="stylesheet" href="/css/main.css">
  </head>
  <body class="min-h-screen bg-base-100 text-base-content">
    <%- include('partials/navbar') %>

    <main class="mx-auto flex max-w-5xl flex-col gap-10 px-6 py-16">
      <header class="space-y-4">
        <p class="text-sm uppercase tracking-widest text-primary">Project</p>
        <h1 class="text-4xl font-bold leading-tight"><%= project.title %></h1>
        <div class="flex flex-wrap gap-4 text-sm text-base-content/70">
          <span class="badge badge-outline whitespace-normal break-words">
            <%= project.Sector.sector_name %>
          </span>
          <a href="/solutions/projects?sector=<%= project.Sector.sector_name %>" class="link link-primary">
            View more in this sector
          </a>
        </div>
        <% if (session.user) { %>
          <a href="/solutions/editProject/<%= project.id %>" class="btn btn-primary btn-outline btn-sm mt-4 normal-case">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4 mr-1">
              <path stroke-linecap="round" stroke-linejoin="round" d="M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125" />
            </svg>
            Edit Project
          </a>
        <% } %>
      </header>

      <section class="grid gap-8 md:grid-cols-2">
        <div class="rounded-3xl border border-base-200">
          <img
            src="<%= project.feature_img_url %>"
            alt="<%= project.title %> hero image"
            class="h-full w-full rounded-3xl object-cover"
          >
        </div>
        <div class="space-y-4">
          <h2 class="text-2xl font-semibold">Overview</h2>
          <p class="text-base text-base-content/80">
            <%= project.intro_short %>
          </p>
          <div class="rounded-2xl bg-base-200 p-5">
            <p class="text-sm font-semibold text-primary">Impact</p>
            <p class="text-base text-base-content/80">
              <%= project.impact %>
            </p>
          </div>
          <a
            href="<%= project.original_source_url %>"
            target="_blank"
            rel="noopener noreferrer"
            class="btn btn-primary"
          >
            Read original research
          </a>
        </div>
      </section>

      <section class="rounded-3xl border border-base-200 bg-base-100 p-6">
        <h3 class="text-xl font-semibold">Quote inspiration</h3>
        <% if (quote) { %>
        <figure class="mt-3 space-y-2">
          <blockquote class="text-lg italic text-base-content/80">
            “<%= quote.text %>”
          </blockquote>
          <% if (quote.author) { %>
          <figcaption class="text-sm text-base-content/60">
            — <%= quote.author %>
          </figcaption>
          <% } %>
        </figure>
        <% } else { %>
        <p class="text-base text-base-content/60">
          Unable to load a quote right now. Please refresh this page later.
        </p>
        <% } %>
      </section>
    </main>
  </body>
</html>
